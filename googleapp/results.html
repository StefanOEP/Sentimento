<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		
		<style>
		body
		{
			background-color:white;
			text-color
		}
		
		</style>
		<title>Sentimento - By Jannik, Stefan and Lars</title>
		<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<script type="text/javascript">
		  google.load("visualization", "1", {packages:["corechart"]});
		  google.setOnLoadCallback(getChartData);
		  
		  function getChartData(){

		  	//Get query data
		  	//Topic=fdsf&TV2=on&EB=on

		  	send_data = {"Topic": GetURLParameter("Topic"),
		  				"Sources": GetURLParameter("Sources")

		  	};
		  	console.log(send_data);


			$.get("/api", send_data).done(function(data){
				console.log(data);
				//var json = $.parseJSON(data);
				//drawChart(JSON.parse(data));
			});
		  }
		  
		  function drawChart(json_data) {
			var data = google.visualization.arrayToDataTable(json_data);

			var options = {
			  title: 'Sentiment analysis results',
			  width: {{ chart_width }},
			  height: '400'
			};

			var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
			chart.draw(data, options);
		  }
		  function GetURLParameter(sParam){

		    var sPageURL = window.location.search.substring(1);
		    var sURLVariables = sPageURL.split('&');
		    for (var i = 0; i < sURLVariables.length; i++) 
			    {
			        var sParameterName = sURLVariables[i].split('=');
			        if (sParameterName[0] == sParam) 
			        {
			            return sParameterName[1];
			        }
			    }
			}
		</script>
	</head>
	<body>
		<h1> Results </h1>
		<div id="chart_div"></div>
	</body>
</html>